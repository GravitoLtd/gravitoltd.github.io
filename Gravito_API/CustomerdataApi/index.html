<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
      <link rel="shortcut icon" href="../../img/favicon.ico" />
    <title>Customer Data API - Gravito Documentation</title>
    <link rel="stylesheet" href="../../css/theme.css" />
    <link rel="stylesheet" href="../../css/theme_extra.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css" />
        <link href="../../css/custom.css" rel="stylesheet" />
    
      <script>
        // Current page data
        var mkdocs_page_name = "Customer Data API";
        var mkdocs_page_input_path = "Gravito_API\\CustomerdataApi.md";
        var mkdocs_page_url = null;
      </script>
    
    <!--[if lt IE 9]>
      <script src="../../js/html5shiv.min.js"></script>
    <![endif]-->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
      <script>hljs.highlightAll();</script> 
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
          <a href="../..">
          <img src="../../img/logo.png" class="logo" alt="Logo"/>
        </a><div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../../search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption"><span class="caption-text">Getting started</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../../Getting_started/Register/">Register</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../Getting_started/Support/">Support</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../Getting_started/Release_Notes/">Release Notes</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Consent Managment</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../../Consent_Management/Iab_tcf/">IAB TCF</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../Consent_Management/Google_consent_mode/">Google Consent Mode</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Gravito Pro CMP</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../../Gravito_Pro_CMP/Getting_Started/">Getting Started</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../Gravito_Pro_CMP/Setup_and_Design/">Setup and Design</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../Gravito_Pro_CMP/Release_Notes/">Release Notes</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Gravito Intelligent CMP</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../../Gravito_Intelligent_CMP/Getting_Started/">Getting Started</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../Gravito_Intelligent_CMP/Setup_and_Design/">Setup and Design</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../Gravito_Intelligent_CMP/GTM_Template/">GTM Template</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../Gravito_Intelligent_CMP/Release_Notes/">Release Notes</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../Gravito_Intelligent_CMP/Advanced_Features/">Advanced Features</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Gravito TCF 2.2 CMP</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../../Gravito_TCF_2.2_CMP/Getting_Started/">Getting Started</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../Gravito_TCF_2.2_CMP/Setup_and_Design/">Setup and Design</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../Gravito_TCF_2.2_CMP/Mobile_apps/">Mobile apps</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../Gravito_TCF_2.2_CMP/Release_Notes/">Release Notes</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../Gravito_TCF_2.2_CMP/Advanced_features/">Advanced features</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Gravito SDK</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../../Gravito_SDK/Getting_Started/">Getting Started</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../Gravito_SDK/Release_Notes/">Release Notes</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../Gravito_SDK/Version_2_%28Latest%29/">Version 2 (Latest)</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Gravito API</span></p>
              <ul class="current">
                  <li class="toctree-l1"><a class="reference internal" href="../Getting_Started/">Getting Started</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../Setup_and_Validation/">Setup and Validation</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../Version_3_%28Latest%29/">Version 3 (Latest)</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../Version_2/">Version 2</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../Microprofile/">Microprofile</a>
                  </li>
                  <li class="toctree-l1 current"><a class="reference internal current" href="#">Customer Data API</a>
    <ul class="current">
    </ul>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Other Features</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../../Other_Features/Domain_Cookie_Scan/">Domain Cookie Scan</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../Other_Features/GVL_Comparison/">GVL Comparison</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../Other_Features/Prebid_User_Id_Module/">Prebid User Id Module</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Try it out</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../../Try_it_out/Playbooks/">Playbooks</a>
                  </li>
              </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
      <nav class="wy-nav-top" role="navigation" aria-label="Mobile navigation menu">
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../..">Gravito Documentation</a>
        
      </nav>
      <div class="wy-nav-content">
        <div class="rst-content"><div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../.." class="icon icon-home" aria-label="Docs"></a></li>
          <li class="breadcrumb-item">Gravito API</li>
      <li class="breadcrumb-item active">Customer Data API</li>
    <li class="wy-breadcrumbs-aside">
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
            <div class="section" itemprop="articleBody">
              
                <h1 id="customer-data-access-api">Customer data access API</h1>
<p>Gravito provides an easy access to the customer data that gravito stores in its backend for the customers who are using Gravito's first party capabilities. Gravito provides an api using with a customer can fetch data for the last 7 days.</p>
<p><strong>Create an access token</strong></p>
<p>In order to access the customer data using api, you need to generate an access token using Gravito's Admin portal. Login to Admin portal and go to account section of the of the portal and select Data Access Tokens menu.</p>
<p><img alt="" src="../img/gotoaccount.png" /></p>
<p>In order to generate a new token, click on the "Generate New Access Token" button. It will generate a new token and it will be available in the list below. </p>
<p>You can generate a new token when ever you wish to, to see the token click on "Show Token" icon, it will show the token and you would be able to copy active token in the clipboard. </p>
<p><img alt="" src="../img/copytoken.png" /></p>
<p><strong>How to access the customer data?</strong></p>
<p>Gravito provides an open api, using which customer data can be accessed. This api returns the customer data for one domain, following details has to be passed to the api. </p>
<ol>
<li>domainName (name of the domain for this you are fetch data ex. gravito.net)</li>
<li>access token (gravito access token generated on Admin Portal following the steps outlined in above section, this has to be passed in request header)</li>
<li>gravito version (version of the Gravito's first party service that you are using, it will default to v3 if this header is not passed.)</li>
</ol>
<pre><code class="language-javascript">(function () { 
    var xhr = new XMLHttpRequest(); 
    xhr.open(&quot;GET&quot;, 'https://apiv2.gravito.net/api/gp/gravitocustomerdata?domainName=&lt;yourdomain&gt;', true); 
    xhr.withCredentials = true; 
    xhr.setRequestHeader('gravitoaccess', '&lt;your_gravitoaccess_token_generated on admin portal&gt;'); 
    xhr.setRequestHeader('gravitoversion', '&lt;your_firstparty_api_version&gt;'); 
    xhr.onreadystatechange = function(response) { 
        if(xhr.readyState == XMLHttpRequest.DONE &amp;&amp; xhr.status == 200) { 
            console.log(&quot;GET response : &quot; + response.target.response); 
        } 
    } 

    xhr.send(); 
})();
</code></pre>
<p><strong>API Reponse</strong></p>
<p>This api will return data into following structure</p>
<pre><code class="language-javascript">[
    {
        &quot;referer&quot;: &quot;gravito.net&quot;,
        &quot;message&quot;: &quot;{\&quot;i\&quot;:\&quot;dc65b539-dd53-4a4a-a9fc-b1ab2a3c931a\&quot;,\&quot;r\&quot;:\&quot;gravito.net\&quot;,\&quot;v\&quot;:\&quot;v3\&quot;,\&quot;e\&quot;:{\&quot;id1\&quot;:\&quot;abcd\&quot;,\&quot;matchOnId\&quot;:\&quot;Id001\&quot;},\&quot;k\&quot;:[],\&quot;c\&quot;:[{\&quot;i\&quot;:\&quot;t\&quot;,\&quot;c\&quot;:\&quot;consent1\&quot;,\&quot;s\&quot;:false,\&quot;t\&quot;:1642690365},{\&quot;i\&quot;:\&quot;m\&quot;,\&quot;c\&quot;:\&quot;consent2\&quot;,\&quot;s\&quot;:true,\&quot;t\&quot;:1642690365},{\&quot;i\&quot;:\&quot;t\&quot;,\&quot;c\&quot;:\&quot;consent1\&quot;,\&quot;s\&quot;:false,\&quot;t\&quot;:1642691322},{\&quot;i\&quot;:\&quot;n\&quot;,\&quot;c\&quot;:\&quot;consent3\&quot;,\&quot;s\&quot;:true,\&quot;t\&quot;:1642691322},{\&quot;i\&quot;:\&quot;t\&quot;,\&quot;c\&quot;:\&quot;consent1\&quot;,\&quot;s\&quot;:false,\&quot;t\&quot;:1642691342},{\&quot;i\&quot;:\&quot;n\&quot;,\&quot;c\&quot;:\&quot;consent3\&quot;,\&quot;s\&quot;:true,\&quot;t\&quot;:1642691342},{\&quot;i\&quot;:\&quot;t\&quot;,\&quot;c\&quot;:\&quot;consent1\&quot;,\&quot;s\&quot;:false,\&quot;t\&quot;:1642691353},{\&quot;i\&quot;:\&quot;n\&quot;,\&quot;c\&quot;:\&quot;consent3\&quot;,\&quot;s\&quot;:false,\&quot;t\&quot;:1642691353},{\&quot;i\&quot;:\&quot;t\&quot;,\&quot;c\&quot;:\&quot;consent1\&quot;,\&quot;s\&quot;:false,\&quot;t\&quot;:1642691387},{\&quot;i\&quot;:\&quot;n\&quot;,\&quot;c\&quot;:\&quot;consent3\&quot;,\&quot;s\&quot;:false,\&quot;t\&quot;:1642691387},{\&quot;i\&quot;:\&quot;t\&quot;,\&quot;c\&quot;:\&quot;consent1\&quot;,\&quot;s\&quot;:false,\&quot;t\&quot;:1642691406},{\&quot;i\&quot;:\&quot;n\&quot;,\&quot;c\&quot;:\&quot;consent3\&quot;,\&quot;s\&quot;:false,\&quot;t\&quot;:1642691406}]}&quot;
    },
    {
        &quot;referer&quot;: &quot;gravito.net&quot;,
        &quot;message&quot;: &quot;{\&quot;i\&quot;:\&quot;70624636-dc77-484f-af61-8ebbb646fb80\&quot;,\&quot;r\&quot;:\&quot;gravito.net\&quot;,\&quot;v\&quot;:\&quot;v3\&quot;,\&quot;e\&quot;:{\&quot;id1\&quot;:\&quot;abc\&quot;,\&quot;matchOnId\&quot;:\&quot;gId001\&quot;},\&quot;k\&quot;:[{\&quot;i\&quot;:\&quot;ab7cvVsef9\&quot;,\&quot;k\&quot;:\&quot;GAID\&quot;,\&quot;v\&quot;:\&quot;ab7cvVsef9\&quot;,\&quot;t\&quot;:1642693204},{\&quot;i\&quot;:\&quot;alhsldasdlfa-asdkasdyfsh\&quot;,\&quot;k\&quot;:\&quot;GMID\&quot;,\&quot;v\&quot;:\&quot;alhsldasdlfa-asdkasdyfsh\&quot;,\&quot;t\&quot;:1642693204},{\&quot;i\&quot;:\&quot;alasd333ldasdlfa-dasdh\&quot;,\&quot;k\&quot;:\&quot;KID\&quot;,\&quot;v\&quot;:\&quot;alasd333ldasdlfa-dasdh\&quot;,\&quot;t\&quot;:1642693204}],\&quot;c\&quot;:[{\&quot;i\&quot;:\&quot;t\&quot;,\&quot;c\&quot;:\&quot;consent1\&quot;,\&quot;s\&quot;:true,\&quot;t\&quot;:1642693204},{\&quot;i\&quot;:\&quot;m\&quot;,\&quot;c\&quot;:\&quot;consent2\&quot;,\&quot;s\&quot;:false,\&quot;t\&quot;:1642693204},{\&quot;i\&quot;:\&quot;n\&quot;,\&quot;c\&quot;:\&quot;consent3\&quot;,\&quot;s\&quot;:true,\&quot;t\&quot;:1642693204}]}&quot;
    },
    {
        &quot;referer&quot;: &quot;gravito.net&quot;,
        &quot;message&quot;: &quot;{\&quot;i\&quot;:\&quot;e20e3759-b180-4a3c-9af1-1dc6a86a1c99\&quot;,\&quot;r\&quot;:\&quot;gravito.net\&quot;,\&quot;v\&quot;:\&quot;v3\&quot;,\&quot;e\&quot;:{\&quot;gravitoData\&quot;:\&quot;{\\\&quot;TCString\\\&quot;:\\\&quot;CPVMwMAPVMwMABUAJAFICECsAP_AAH_AAApAHxQIwAFgAQAAqABkADwAIAAZAA0AB8AEQAI4ATwAqABbADmAH4AQQAhABMADRAGyAQgAiIBFgCRAE7ALSAYEAxQB1AD9AJkAWyAvMB8QHxQHwAFgAVAAyAB4AEAAMgAaAA-F5jIAQC8wHxDoCoACwAKgAZABAADIAGgAPgAiABPADmAH4ATAA0QBsgEWALSAYoA6gCZAFsgLzIQBgAFgAZALSAYoA6gC2SUAgABYAGQAiADZALSAYoA6gC8ykA8ABYAFQAMgAgABkADQAIgATwA5gB-AGiANkAiwBigF5gAAA.YAAAAAAAAMAA\\\&quot;,\\\&quot;NonTCFVendors\\\&quot;:[{\\\&quot;id\\\&quot;:1,\\\&quot;name\\\&quot;:\\\&quot;Facebook\\\&quot;,\\\&quot;consent\\\&quot;:true},{\\\&quot;id\\\&quot;:3,\\\&quot;name\\\&quot;:\\\&quot;Google\\\&quot;,\\\&quot;consent\\\&quot;:true},{\\\&quot;id\\\&quot;:9,\\\&quot;name\\\&quot;:\\\&quot;Twitter\\\&quot;,\\\&quot;consent\\\&quot;:true},{\\\&quot;id\\\&quot;:10,\\\&quot;name\\\&quot;:\\\&quot;Wordpress\\\&quot;,\\\&quot;consent\\\&quot;:true},{\\\&quot;id\\\&quot;:15,\\\&quot;name\\\&quot;:\\\&quot;Linkedin\\\&quot;,\\\&quot;consent\\\&quot;:true},{\\\&quot;id\\\&quot;:16,\\\&quot;name\\\&quot;:\\\&quot;Microsoft\\\&quot;,\\\&quot;consent\\\&quot;:true},]}\&quot;,\&quot;matchOnId\&quot;:\&quot;11fb248d7984777b5d956057f160ca3d636f1f6e12f91bc365a2ca6901de4f9e\&quot;},\&quot;k\&quot;:[],\&quot;c\&quot;:[]}&quot;
    }
]
</code></pre>
              
            </div>
          </div><footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="Footer Navigation">
        <a href="../Microprofile/" class="btn btn-neutral float-left" title="Microprofile"><span class="icon icon-circle-arrow-left"></span> Previous</a>
        <a href="../../Other_Features/Domain_Cookie_Scan/" class="btn btn-neutral float-right" title="Domain Cookie Scan">Next <span class="icon icon-circle-arrow-right"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
          
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="Versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
    
      <span><a href="../Microprofile/" style="color: #fcfcfc">&laquo; Previous</a></span>
    
    
      <span><a href="../../Other_Features/Domain_Cookie_Scan/" style="color: #fcfcfc">Next &raquo;</a></span>
    
  </span>
</div>
    <script src="../../js/jquery-3.6.0.min.js"></script>
    <script>var base_url = "../..";</script>
    <script src="../../js/theme_extra.js"></script>
    <script src="../../js/theme.js"></script>
      <script src="../../js/modal.js"></script>
      <script src="../../js/motomo.js"></script>
      <script src="../../search/main.js"></script>
    <script>
        jQuery(function () {
            SphinxRtdTheme.Navigation.enable(true);
        });
    </script>

</body>
</html>
