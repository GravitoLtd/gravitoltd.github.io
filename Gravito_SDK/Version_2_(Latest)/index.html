<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
      <link rel="shortcut icon" href="../../img/favicon.ico" />
    <title>Version 2 (Latest) - Gravito Documentation</title>
    <link rel="stylesheet" href="../../css/theme.css" />
    <link rel="stylesheet" href="../../css/theme_extra.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css" />
        <link href="../../css/custom.css" rel="stylesheet" />
    
      <script>
        // Current page data
        var mkdocs_page_name = "Version 2 (Latest)";
        var mkdocs_page_input_path = "Gravito_SDK\\Version_2_(Latest).md";
        var mkdocs_page_url = null;
      </script>
    
    <!--[if lt IE 9]>
      <script src="../../js/html5shiv.min.js"></script>
    <![endif]-->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
      <script>hljs.highlightAll();</script> 
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
          <a href="../..">
          <img src="../../img/logo.png" class="logo" alt="Logo"/>
        </a><div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../../search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption"><span class="caption-text">Getting started</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../../Getting_started/Register/">Register</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../Getting_started/Support/">Support</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../Getting_started/Release_Notes/">Release Notes</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Gravito Pro CMP</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../../Gravito_Pro_CMP/Getting_Started/">Getting Started</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../Gravito_Pro_CMP/Setup_and_Design/">Setup and Design</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../Gravito_Pro_CMP/Release_Notes/">Release Notes</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Gravito Intelligent CMP</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../../Gravito_Intelligent_CMP/Getting_Started/">Getting Started</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../Gravito_Intelligent_CMP/Setup_and_Design/">Setup and Design</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../Gravito_Intelligent_CMP/GTM_Template/">GTM Template</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../Gravito_Intelligent_CMP/Release_Notes/">Release Notes</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../Gravito_Intelligent_CMP/Advanced_Features/">Advanced Features</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Gravito TCF 2.2 CMP</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../../Gravito_TCF_2.2_CMP/Getting_Started/">Getting Started</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../Gravito_TCF_2.2_CMP/Setup_and_Design/">Setup and Design</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../Gravito_TCF_2.2_CMP/Mobile_apps/">Mobile apps</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../Gravito_TCF_2.2_CMP/Release_Notes/">Release Notes</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../Gravito_TCF_2.2_CMP/Advanced_features/">Advanced features</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Gravito SDK</span></p>
              <ul class="current">
                  <li class="toctree-l1"><a class="reference internal" href="../Getting_Started/">Getting Started</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../Release_Notes/">Release Notes</a>
                  </li>
                  <li class="toctree-l1 current"><a class="reference internal current" href="#">Version 2 (Latest)</a>
    <ul class="current">
    </ul>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Gravito API</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../../Gravito_API/Getting_Started/">Getting Started</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../Gravito_API/Setup_and_Validation/">Setup and Validation</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../Gravito_API/Version_3_%28Latest%29/">Version 3 (Latest)</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../Gravito_API/Version_2/">Version 2</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../Gravito_API/Microprofile/">Microprofile</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../Gravito_API/CustomerdataApi/">Customer Data API</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Other Features</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../../Other_Features/Cookie_Scanner/">Cookie Scanner</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../Other_Features/GVL_Comparison/">GVL Comparison</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../Other_Features/Prebid_User_Id_Module/">Prebid User Id Module</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Try it out</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../../Try_it_out/Playbooks/">Playbooks</a>
                  </li>
              </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
      <nav class="wy-nav-top" role="navigation" aria-label="Mobile navigation menu">
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../..">Gravito Documentation</a>
        
      </nav>
      <div class="wy-nav-content">
        <div class="rst-content"><div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../.." class="icon icon-home" aria-label="Docs"></a></li>
          <li class="breadcrumb-item">Gravito SDK</li>
      <li class="breadcrumb-item active">Version 2 (Latest)</li>
    <li class="wy-breadcrumbs-aside">
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
            <div class="section" itemprop="articleBody">
              
                <h1 id="version-2-latest">Version 2 (Latest)</h1>
<h1 id="using-sdk-v2">Using SDK V2</h1>
<p>To use Gravito's SDK you should have the Gravito config added to your site. Make sure you also have settings section added inside your config. You can get the config from theÂ <a href="https://adminv2.gravito.net/">Gravito Admin Portal</a></p>
<p>ðŸ‘‰Looking for an older version of Gravito SDK? You can find the older versions here</p>
<p><a href="../advanced/Gravito_sdk_v1/">Gravito SDK V1</a></p>
<h2 id="how-it-works">How it works?</h2>
<h3 id="configuration">Configuration</h3>
<p>SDK Version can be configured using gravitoCMPConfig object.</p>
<pre><code>window.gravitoCMPConfig = {
  settings: {
    sdkVersion: 2,
  },
};

</code></pre>
<h3 id="deployment">Deployment</h3>
<p>To Include Gravito SDK Version 2 add following JavaScript to your site. Make sure config loading logic is added above this script.</p>
<pre><code>var gravitoSDKTag = document.createElement(&quot;script&quot;);
gravitoSDKTag.src = &quot;https://cdn.gravito.net/sdkv2/latest/sdk.js&quot;;
gravitoSDKTag.onload = function () {
  console.log(&quot;gravito SDK loaded&quot;);
};
document.body.appendChild(gravitoSDKTag);

</code></pre>
<h3 id="sample-scripts">Sample Scripts</h3>
<p>Using SDK to deploy First-Party. To include first-party helper functions of SDK V2 add following JavaScript to your site. Make sure config loading logic is added above this script.</p>
<pre><code>var gravitoSDKTag = document.createElement(&quot;script&quot;);
gravitoSDKTag.src = &quot;https://cdn.gravito.net/sdkv2/latest/sdk.js&quot;;
gravitoSDKTag.onload = function () {
  window.gravito.init(&quot;firstParty&quot;);
};
document.body.appendChild(gravitoSDKTag);

</code></pre>
<p>To check if the first party has been added to your site or not, please use following script and test it with browser console window. It should return your gravito registered first-party URL</p>
<pre><code>gravito.firstParty.getDefaultURL();
</code></pre>
<p>Once First-party is added to your website you can use the first-party function to interact with gravito backend.</p>
<h5 id="get-your-profile">Get Your profile.</h5>
<p>To get your profile you can call following function</p>
<pre><code>function customCb(data) {
  console.log(&quot;data&quot;, data);
}
gravito.firstParty.getProfile(customCb);

</code></pre>
<h5 id="have-your-own-first-party-id">Have your own First Party Id?</h5>
<p>Using gravito first-party you can use your own ID and give it more persistence using Gravito First Party API</p>
<pre><code>function customCb(data) {
  console.log(&quot;data&quot;, data);
}
var gmId = &quot;your own id&quot;;
gravito.firstParty.postEvents(
  {
    &quot;gmId-overide&quot;: &quot;gmid changed to &quot; + gmId,
  },
  customCb,
  gmId
);

</code></pre>
<h5 id="send-a-key-value-pair-of-events">Send a Key value pair of events.</h5>
<p>You can attach key-value pairs to the profile for eg: pageViews : n</p>
<pre><code>function customCb(data) {
  console.log(&quot;data&quot;, data);
}
let key = &quot;pageViews&quot;;
let value = 2;
let model = {};
model[key] = value;
gravito.firstParty.postEvents(model, customCb);

</code></pre>
<h5 id="send-a-keys-to-the-profile">Send a Keys to the Profile.</h5>
<p>Attach keys to the profile to get a complete picture of the profile. eg: GA ID.</p>
<pre><code>function customCb(data) {
  console.log(&quot;data&quot;, data);
}
let keysInput = [
  {
    i: &quot;56396541p-0jud-7qawe-lk45ue973723&quot;,
    K: &quot;GAID&quot;,
    v: &quot;56396541p-0jud-7qawe-lk45ue973723&quot;,
  },
];

gravito.firstParty.postKeys(keysInput, customCb);

</code></pre>
<h5 id="send-a-consent-to-the-profile">Send a Consent to the Profile.</h5>
<p>Attach consents to the profile to access it any time.</p>
<pre><code>function customCb(data) {
  console.log(&quot;data&quot;, data);
}
let consentInputs = [
  { i: &quot;t&quot;, c: &quot;consent1&quot;, s: false },
  { i: &quot;m&quot;, c: &quot;consent2&quot;, s: false },
];

gravito.firstParty.postConsents(consentInputs, customCb);

</code></pre>
<h5 id="bridge-in-match-on-id">Bridge in Match On id.</h5>
<p>Connect with matchOnId ( eg: a deterministic Id) to connect X-domain and X-device.</p>
<pre><code>function customCb(data) {
  console.log(&quot;data&quot;, data);
}
let matchOnId = &quot;your_match_onId&quot;;

gravito.firstParty.attachMatchOnId(matchOnId, customCb);

</code></pre>
<h5 id="reset-profile">Reset Profile.</h5>
<p>To reset your firstParty profile use following snippet.</p>
<pre><code>function customCb(data) {
  console.log(&quot;data&quot;, data);
}
let matchOnId = &quot;reset&quot;;

gravito.firstParty.attachMatchOnId(matchOnId, customCb);

</code></pre>
<h5 id="delete-profile">Delete Profile.</h5>
<p>To delete your firstParty profile use following snippet</p>
<pre><code>function customCb(data) {
  console.log(&quot;data&quot;, data);
}
let matchOnId = &quot;delete&quot;;

gravito.firstParty.attachMatchOnId(matchOnId, customCb);

</code></pre>
<h4 id="using-sdk-to-deploy-light-cmp">Using SDK to deploy Light CMP.</h4>
<p>To know how to deploy light CMP with SDK v2 please click here(Link to Deployment section of Light CMP).</p>
<h4 id="using-sdk-to-deploy-tcf-cmp">Using SDK to deploy TCF CMP.</h4>
<p>To know how to deploy TCF CMP with SDK v2 please click here(Link to Deployment section of TCF CMP ).</p>
<h4 id="using-sdk-to-include-gravitos-prebid-js-usermodule">Using SDK to Include Gravito's prebid js usermodule.</h4>
<p>To know how to include Gravito's prebid js usermodule with SDK v2 please click here(Link to Deployment section of prebid js usermodule).</p>
              
            </div>
          </div><footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="Footer Navigation">
        <a href="../Release_Notes/" class="btn btn-neutral float-left" title="Release Notes"><span class="icon icon-circle-arrow-left"></span> Previous</a>
        <a href="../../Gravito_API/Getting_Started/" class="btn btn-neutral float-right" title="Getting Started">Next <span class="icon icon-circle-arrow-right"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
          
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="Versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
    
      <span><a href="../Release_Notes/" style="color: #fcfcfc">&laquo; Previous</a></span>
    
    
      <span><a href="../../Gravito_API/Getting_Started/" style="color: #fcfcfc">Next &raquo;</a></span>
    
  </span>
</div>
    <script src="../../js/jquery-3.6.0.min.js"></script>
    <script>var base_url = "../..";</script>
    <script src="../../js/theme_extra.js"></script>
    <script src="../../js/theme.js"></script>
      <script src="../../js/modal.js"></script>
      <script src="../../search/main.js"></script>
    <script>
        jQuery(function () {
            SphinxRtdTheme.Navigation.enable(true);
        });
    </script>

</body>
</html>
