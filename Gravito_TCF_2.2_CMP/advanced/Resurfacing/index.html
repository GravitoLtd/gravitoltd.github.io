<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
      <link rel="shortcut icon" href="../../../img/favicon.ico" />
    <title>CMP resurfacing scenarios and Core module updates - Gravito Documentation</title>
    <link rel="stylesheet" href="../../../css/theme.css" />
    <link rel="stylesheet" href="../../../css/theme_extra.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css" />
        <link href="../../../css/custom.css" rel="stylesheet" />
    
      <script>
        // Current page data
        var mkdocs_page_name = "CMP resurfacing scenarios and Core module updates";
        var mkdocs_page_input_path = "Gravito_TCF_2.2_CMP\\advanced\\Resurfacing.md";
        var mkdocs_page_url = null;
      </script>
    
    <!--[if lt IE 9]>
      <script src="../../../js/html5shiv.min.js"></script>
    <![endif]-->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
      <script>hljs.highlightAll();</script> 
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
          <a href="../../..">
          <img src="../../../img/logo.png" class="logo" alt="Logo"/>
        </a><div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption"><span class="caption-text">Getting started</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../../../Getting_started/Register/">Register</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../../Getting_started/Support/">Support</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../../Getting_started/Release_Notes/">Release Notes</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Gravito Pro CMP</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../../../Gravito_Pro_CMP/Getting_Started/">Getting Started</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../../Gravito_Pro_CMP/Setup_and_Design/">Setup and Design</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../../Gravito_Pro_CMP/Release_Notes/">Release Notes</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Gravito Intelligent CMP</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../../../Gravito_Intelligent_CMP/Getting_Started/">Getting Started</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../../Gravito_Intelligent_CMP/Setup_and_Design/">Setup and Design</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../../Gravito_Intelligent_CMP/GTM_Template/">GTM Template</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../../Gravito_Intelligent_CMP/Release_Notes/">Release Notes</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../../Gravito_Intelligent_CMP/Advanced_Features/">Advanced Features</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Gravito TCF 2.2 CMP</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../../Getting_Started/">Getting Started</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../Setup_and_Design/">Setup and Design</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../Mobile_apps/">Mobile apps</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../Release_Notes/">Release Notes</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../Advanced_features/">Advanced features</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Gravito SDK</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../../../Gravito_SDK/Getting_Started/">Getting Started</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../../Gravito_SDK/Release_Notes/">Release Notes</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../../Gravito_SDK/Version_2_%28Latest%29/">Version 2 (Latest)</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Gravito API</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../../../Gravito_API/Getting_Started/">Getting Started</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../../Gravito_API/Setup_and_Validation/">Setup and Validation</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../../Gravito_API/Version_3_%28Latest%29/">Version 3 (Latest)</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../../Gravito_API/Version_2/">Version 2</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../../Gravito_API/Microprofile/">Microprofile</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../../Gravito_API/CustomerdataApi/">Customer Data API</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Other Features</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../../../Other_Features/Cookie_Scanner/">Cookie Scanner</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../../Other_Features/GVL_Comparison/">GVL Comparison</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../../Other_Features/Prebid_User_Id_Module/">Prebid User Id Module</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Try it out</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../../../Try_it_out/Playbooks/">Playbooks</a>
                  </li>
              </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
      <nav class="wy-nav-top" role="navigation" aria-label="Mobile navigation menu">
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../..">Gravito Documentation</a>
        
      </nav>
      <div class="wy-nav-content">
        <div class="rst-content"><div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../../.." class="icon icon-home" aria-label="Docs"></a></li>
      <li class="breadcrumb-item active">CMP resurfacing scenarios and Core module updates</li>
    <li class="wy-breadcrumbs-aside">
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
            <div class="section" itemprop="articleBody">
              
                <h1 id="cmp-resurfacing-scenarios-and-core-module-updates">CMP resurfacing scenarios and Core module updates</h1>
<h2 id="manual-resurfacing">Manual Resurfacing</h2>
<p>Manual resurfacing of Gravito CMP can be done using the  method  <em>gravitoCMP.openPreferences()</em>. Once the CMP is loaded and the consents given,  manually resurfacing of the CMP can be under a <em>"Cookie Settings"</em> link or button for eg. </p>
<h3 id="sample-script">Sample Script</h3>
<pre><code class="language-javascript">&lt;script&gt;
// Function to be called when the link is clicked
function buttonClicked() {
    window.gravitoCMP.openPreferences();
}

function main() {
    // Create a new anchor element
    var link = document.createElement('a');
    // Set the link text
    link.innerHTML = 'Cookie Settings';
    // Set the link's href attribute to '#'
    link.href = '#';
    // Set the link's onclick event to call the buttonClicked function
    link.onclick = function(event) {
        event.preventDefault(); // Prevent the default link behavior
        buttonClicked();
    };
    // Apply CSS styles to center the link
    link.style.display = 'block';
    link.style.textAlign = 'center';
    link.style.margin = '0 auto';

    // Find the div with id 'footer-3'
    var targetDiv = document.getElementById('footer-wrapper');
    if (targetDiv) {
        // Append the link to the target div
        targetDiv.appendChild(link);
        // Apply CSS styles to center the content of the target div
        targetDiv.style.display = 'flex';
        targetDiv.style.justifyContent = 'center';
        targetDiv.style.alignItems = 'center';
    } else {
        console.error('Div with id &quot;footer-3&quot; not found');
    }
}

main();
&lt;/script&gt;

</code></pre>
<h2 id="automatic-resurfacing">Automatic Resurfacing</h2>
<h3 id="overview">Overview</h3>
<p>As you are aware, the <strong>Transparency and Consent Framework (TCF) 2.2</strong> was introduced about November 2023. The Interactive Advertising Bureau (IAB) limits the validity of Transparency and Consent Strings (TC Strings) to <strong>13 months</strong>. Many TC Strings are now nearing their expiration date. While invalid consents are unlikely if the Consent Management Platform (CMP) has resurfaced in the past, it's important to ensure ongoing compliance.</p>
<h3 id="update">Update</h3>
<p>We have  rolling out an update to our CMP core module that includes an extra check for the validity of TC Strings. This fix ensures that any obsolete or invalid consents are identified, and new consents are obtained automatically. As a result, users may be prompted again (resurfacing) to provide their consent.</p>
<h4 id="key-details-of-the-update">Key Details of the update</h4>
<ul>
<li><strong>Rollout Date</strong>: <strong>28/11/2024</strong></li>
<li><strong>Who is Affected</strong>: Everyone running TCF 2.2 Version</li>
<li><strong>Action Required</strong>: <strong>No action is required from the publisher's end</strong>. If the consent strings of users are invalid, the CMP will automatically resurface to obtain re-consent.</li>
</ul>
<h3 id="example-impact-on-google-ad-manager">Example: Impact on Google Ad Manager</h3>
<p>Outdated or invalid consent strings can lead to issues with advertising platforms like <strong>Google Ad Manager</strong>. Specifically, if the consent strings are expired or invalid, <a href="https://support.google.com/admanager/answer/9999955?hl=en">Google Ad Manager may throw <strong>3.3 errors</strong></a>, indicating consent-related problems that can hinder ad serving.</p>
<h4 id="what-is-a-33-error">What is a 3.3 Error?</h4>
<p>A 3.3 error in Google Ad Manager signifies that there's an issue with the consent string provided in the ad request:</p>
<ul>
<li><strong>Missing or Invalid Consent</strong>: The ad request lacks a valid TC String, or the string is outdated.</li>
<li><strong>Ad Delivery Impact</strong>: Ads may not be served properly, leading to decreased fill rates and potential revenue loss.</li>
</ul>
<h4 id="how-the-update-addresses-this-issue">How the Update Addresses This Issue</h4>
<p>With this CMP update:</p>
<ul>
<li><strong>Automatic Resurfacing</strong>: The CMP will prompt users to renew their consent when the TC String becomes obsolete.</li>
<li><strong>Error Prevention</strong>: Ensuring valid consent strings are in place will prevent 3.3 errors in Google Ad Manager.</li>
</ul>
<h3 id="next-steps">Next Steps</h3>
<ul>
<li><strong>Publishers</strong>: No action is required on your part. The CMP will handle the resurfacing process automatically.</li>
<li><strong>Users</strong>: May experience a prompt to provide consent again, which is a standard procedure to maintain compliance.</li>
</ul>
              
            </div>
          </div><footer>

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
          
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="Versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
    
    
  </span>
</div>
    <script src="../../../js/jquery-3.6.0.min.js"></script>
    <script>var base_url = "../../..";</script>
    <script src="../../../js/theme_extra.js"></script>
    <script src="../../../js/theme.js"></script>
      <script src="../../../js/modal.js"></script>
      <script src="../../../search/main.js"></script>
    <script>
        jQuery(function () {
            SphinxRtdTheme.Navigation.enable(true);
        });
    </script>

</body>
</html>
